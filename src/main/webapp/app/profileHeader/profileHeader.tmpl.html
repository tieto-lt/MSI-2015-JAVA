<header class="profile-header" data-ng-controller="ProfileHeaderController as vm">
	<div class="profile-header-top">
		<div class="header-feald">
			<img id="karma-logo" src="assets/images/karma_logo.png"/>
		</div>
	 	<div class="header-feald">
			<h3>Karma Points</h3>
		</div>
		
		<div class="header-search-feald" data-ng-controller="PointsTransferInfoController as ptc">
			<div>
				<div class="user-search-input">
					<md-autocomplete
							md-input-name="toInput" type="text" id="to"
							data-ng-model="ptc.transferInfo.toUser"
							md-input-maxlength="51" required
							md-selected-item="ptc.transferInfo.toUser"
							md-selected-item-change=
								"nav.changePageIfWithParams('userPage.profile.newsfeed', user, {id:user.id})"
							md-search-text="nav.searchText"
							md-items="user in ptc.fillteredList(nav.searchText)"
							md-item-text="user.firstName + ' ' + user.lastName"
							md-min-length="1"
							placeholder="Search User"
							md-no-cache="true">
						<md-item-template>
							<span>{{user.firstName}} {{user.lastName}}</span>
						</md-item-template>
					</md-autocomplete>
				</div>
			</div>
		</div>
		<div class="header-profile-image">
      			<img class="profile-header-user-image" ng-src="{{vm.showProfileImage(vm.profileInfo.image)}}"/>
		</div>
		<div class="header-profile-feald">
        	<div class="info-container" data-ng-model="vm.profileInfo">
        		<span class="header-details-name">
        			{{vm.profileInfo.firstName}} {{vm.profileInfo.lastName}}
        		</span>
        	</div>
        	<div>
        		<span class="header-details-small">You have: </span>
        		<span class="header-details-small">{{vm.profileInfo.userPoints}}</span>
        		<span><img class="formLogoImage" src="assets/images/karma_logo.png"></span>
        	</div>
		</div>
		
		<div class="header-feald header-details-small profile-header-logout-div" data-ng-controller="LogoutController as vm">
			<a ng-click="vm.logout()" >Log out</a>
		</div>

	</div>
	<div class="profile-header-bottom header-navigation">
	    <ul>
            <li ng-class="{'current' : nav.currentPage == 'userPage.home'}" ng-click="nav.changePage('userPage.home')"><a >Home</a></li>
            <li ng-class="{'current' : nav.currentPage == 'userPage.shop'}" ng-click="nav.changePage('userPage.shop')"><a>Tieto Shop</a></li>
           	<li ng-class="{'current' : (nav.currentPage == 'userPage.profile.newsfeed' || nav.currentPage == 'userPage.profile.purchaseHistory') && nav.profileInfo.id == nav.profileId}" ng-click="nav.changePageWithParams('userPage.profile.newsfeed', {'id': vm.profileInfo.id})"><a>My profile</a></li>
        </ul>
	</div>
</header>